{
  "version": "1.0.0",
  "lastUpdated": "2025-08-22",
  "description": "Core validation rules for GitHub Copilot meta-instructions",

  "structuralRules": {
    "fileNaming": {
      "enabled": true,
      "severity": "error",
      "patterns": {
        "chatModes": "^[a-z0-9-]+\\.md$",
        "prompts": "^[a-z0-9-]+\\.md$",
        "mcpServers": "^[a-z0-9-]+$",
        "configs": "^[a-z0-9-]+\\.(json|yaml|yml)$"
      },
      "excludes": ["README.md", "CHANGELOG.md", "LICENSE"]
    },

    "directoryStructure": {
      "enabled": true,
      "severity": "error",
      "requiredDirectories": [
        ".github/chatmodes",
        ".github/prompts",
        ".github/mcp/servers",
        ".github/mcp/configs",
        ".github/validation/validators",
        ".github/validation/configs",
        ".github/validation/reports"
      ],
      "allowCustomDirectories": true
    },

    "templateCompliance": {
      "enabled": true,
      "severity": "warning",
      "requiredSections": {
        "chatModes": ["title", "description", "role", "responseStyle"],
        "prompts": ["title", "description", "usage", "examples"],
        "documentation": ["title", "overview"]
      },
      "maxMissingSections": 1
    },

    "dependencyIntegrity": {
      "enabled": true,
      "severity": "error",
      "requiredDependencies": {
        "mcpServers": ["@modelcontextprotocol/sdk"],
        "validators": []
      },
      "versionConstraints": {
        "@modelcontextprotocol/sdk": "^1.0.0",
        "node": ">=18.0.0"
      }
    }
  },

  "contentQualityRules": {
    "markdownQuality": {
      "enabled": true,
      "severity": "warning",
      "maxLineLength": 120,
      "allowTrailingWhitespace": false,
      "requireHeadingSpacing": true,
      "maxConsecutiveEmptyLines": 2
    },

    "instructionClarity": {
      "enabled": true,
      "severity": "warning",
      "minWordCount": 100,
      "maxWordsPerSentence": 25,
      "requireCodeExamples": true,
      "requireStructuredSections": true,
      "requireActionableSteps": true,
      "clarityScoreThreshold": 0.7
    },

    "codeQuality": {
      "enabled": true,
      "severity": "error",
      "requireShebang": true,
      "requireDocstrings": true,
      "requireErrorHandling": true,
      "requireProperExports": true,
      "maxComplexityScore": 100,
      "maxFunctionCount": 50
    },

    "documentationStandards": {
      "enabled": true,
      "severity": "warning",
      "requireProperTitle": true,
      "requireTableOfContents": false,
      "maxDocumentLength": 5000,
      "requireLanguageInCodeBlocks": true,
      "allowEmptyLinks": false
    }
  },

  "integrationRules": {
    "mcpCompatibility": {
      "enabled": true,
      "severity": "error",
      "requiredImports": [
        "StdioServerTransport",
        "@modelcontextprotocol/sdk/server"
      ],
      "requiredMethods": ["setupHandlers", "run"],
      "requiredHandlers": ["ListResourcesRequestSchema", "ReadResourceRequestSchema"]
    },

    "chatModeIntegration": {
      "enabled": true,
      "severity": "warning",
      "requiredSections": ["role", "responseStyle", "examples", "constraints"],
      "minSectionCount": 3,
      "validatePersonaConsistency": true
    },

    "crossReferences": {
      "enabled": true,
      "severity": "warning",
      "validateInternalLinks": true,
      "allowBrokenExternalLinks": true,
      "maxBrokenLinksPerFile": 2
    },

    "versionCompatibility": {
      "enabled": true,
      "severity": "warning",
      "supportedNodeVersions": [">=18.0.0"],
      "supportedMCPVersions": ["^1.0.0"],
      "checkDependencyVersions": true
    }
  },

  "performanceRules": {
    "fileSizeLimits": {
      "enabled": true,
      "severity": "error",
      "limits": {
        ".md": 102400,
        ".js": 204800,
        ".json": 51200,
        ".yaml": 51200,
        ".yml": 51200
      },
      "warningThreshold": 0.8
    },

    "complexityMetrics": {
      "enabled": true,
      "severity": "warning",
      "maxFileLines": 1000,
      "maxFunctionCount": 50,
      "maxConditionalCount": 30,
      "complexityScoreThreshold": 100
    },

    "resourceEfficiency": {
      "enabled": true,
      "severity": "warning",
      "requireCaching": true,
      "requireRateLimit": true,
      "requireErrorHandling": true,
      "checkMemoryLeaks": true,
      "validateTimeouts": true
    }
  },

  "globalSettings": {
    "excludePatterns": [
      "node_modules/**",
      ".git/**",
      "*.log",
      "*.tmp",
      ".DS_Store",
      "Thumbs.db"
    ],

    "reportFormat": "both",
    "verboseOutput": false,
    "continueOnError": true,
    "maxErrorsBeforeStop": 100,

    "customRules": {
      "enabled": false,
      "rulesDirectory": "./custom-rules"
    }
  }
}
